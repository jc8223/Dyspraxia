<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Pop Game üéà</title>
    <style>
        body {
            text-align: center;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            overflow: hidden;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        h1 {
            font-size: 36px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 5px #000;
        }
        #game-container {
            position: relative;
            width: 90vw;
            height: 60vh;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            padding: 10px;
        }
        .bubble {
            position: absolute;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: radial-gradient(circle, #ff5722, #e64a19);
            color: white;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.1s ease-in-out, box-shadow 0.2s ease;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);
            animation: float 2s infinite ease-in-out alternate;
        }
        .bubble:hover {
            transform: scale(1.2);
            box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.4);
        }
        .hidden {
            color: transparent;
            background: #d3d3d3;
        }
        @keyframes float {
            from { transform: translateY(0px); }
            to { transform: translateY(-8px); }
        }
        #score, #level, #high-score, #timer {
            font-size: 22px;
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 3px #000;
        }
        #message {
            font-size: 18px;
            color: white;
            margin-bottom: 10px;
            font-weight: bold;
        }
        #restart-btn {
            display: none;
            padding: 12px 20px;
            font-size: 20px;
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 25px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease-in-out;
        }
        #restart-btn:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff4b2b, #ff416c);
        }
    </style>
</head>
<body>

    <h1>üéà Memory Pop Game üéà</h1>
    <p id="level">Level: 1</p>
    <p id="score">Score: 0</p>
    <p id="high-score">High Score: 0</p>
    <p id="timer">Time Left: 10s</p>
    <p id="message">Memorize the order before they disappear!</p>
    <div id="game-container"></div>
    <button id="restart-btn" onclick="restartGame()">üîÑ Try Again</button>

    <script>
        let gameContainer = document.getElementById("game-container");
        let scoreDisplay = document.getElementById("score");
        let highScoreDisplay = document.getElementById("high-score");
        let levelDisplay = document.getElementById("level");
        let timerDisplay = document.getElementById("timer");
        let messageDisplay = document.getElementById("message");
        let restartBtn = document.getElementById("restart-btn");

        let score = 0;
        let highScore = localStorage.getItem("highScore") || 0;
        let numbers = [];
        let currentNumber = 1;
        let gameActive = false;
        let level = 1;
        let bubbleCount = 5;
        let memorizeTime = 5000;
        let roundTime = 10;
        let timer;

        highScoreDisplay.textContent = `High Score: ${highScore}`;

        function getRandomPosition() {
            let containerRect = gameContainer.getBoundingClientRect();
            let maxX = containerRect.width - 75;
            let maxY = containerRect.height - 75;
            return { x: Math.random() * maxX, y: Math.random() * maxY };
        }

        function createBubble(number) {
            let bubble = document.createElement("div");
            bubble.classList.add("bubble");
            let { x, y } = getRandomPosition();
            bubble.style.left = `${x}px`;
            bubble.style.top = `${y}px`;
            bubble.textContent = number;
            bubble.dataset.value = number;
            gameContainer.appendChild(bubble);
            numbers.push(number);
        }

        function hideNumbers() {
            let bubbles = document.querySelectorAll(".bubble");
            bubbles.forEach(bubble => {
                bubble.classList.add("hidden");
                bubble.style.pointerEvents = "auto";
            });
            gameActive = true;
            messageDisplay.textContent = "Now pop them in order!";
            startTimer();
        }

        function startTimer() {
            let timeLeft = roundTime;
            timerDisplay.textContent = `Time Left: ${timeLeft}s`;
            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = `Time Left: ${timeLeft}s`;
                if (timeLeft === 0) {
                    clearInterval(timer);
                    gameOver();
                }
            }, 1000);
        }

        function popBubble(event) {
            if (!gameActive) return;
            let clickedNumber = parseInt(event.target.dataset.value);
            if (clickedNumber === currentNumber) {
                event.target.remove();
                score += 10;
                scoreDisplay.textContent = `Score: ${score}`;
                currentNumber++;
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem("highScore", highScore);
                    highScoreDisplay.textContent = `High Score: ${highScore}`;
                }
                if (currentNumber > numbers.length) {
                    clearInterval(timer);
                    setTimeout(nextLevel, 1000);
                }
            } else {
                gameOver();
            }
        }

        function gameOver() {
            messageDisplay.textContent = "‚ùå Game Over! Try Again.";
            restartBtn.style.display = "block";
            gameActive = false;
        }

        function restartGame() {
            level = 1;
            bubbleCount = 5;
            score = 0;
            scoreDisplay.textContent = `Score: 0`;
            restartBtn.style.display = "none";
            startGame();
        }

        function startGame() {
            gameContainer.innerHTML = "";
            numbers = [];
            currentNumber = 1;
            gameActive = false;
            clearInterval(timer);
            for (let i = 1; i <= bubbleCount; i++) createBubble(i);
            setTimeout(hideNumbers, memorizeTime);
        }

        gameContainer.addEventListener("click", popBubble);
        startGame();
    </script>

</body>
</html>
